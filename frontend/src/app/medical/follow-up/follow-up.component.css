@import url('https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700&family=DM+Sans:wght@400;500;600&display=swap');

:host {
  --bg:       #f3f0f9;        /* fond violet pastel très doux */
  --bg2:      #ede9f6;        /* fond légèrement plus foncé */
  --card:     #ffffff;        /* cartes blanches */
  --card2:    #f8f5ff;        /* cartes secondaires violet très clair */
  --border:   #ddd6f3;        /* bordures violet pastel */
  --purple:   #7c3aed;        /* violet principal */
  --purple2:  #6d28d9;        /* violet hover */
  --purple-l: #a78bfa;        /* violet clair */
  --purple-xl:#ede9fe;        /* violet très très clair */
  --text:     #2d1b69;        /* texte violet foncé */
  --muted:    #7c6f9e;        /* texte secondaire violet gris */
  --radius:   14px;
  display: block;
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  min-height: 100vh;
  color: var(--text);
}
* { box-sizing: border-box; margin: 0; padding: 0; }

.follow-up-container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 2rem 1.5rem 4rem;
}

/* ── PATIENT HEADER ──────────────────────────────────────────── */
.patient-header {
  display: flex; align-items: center; gap: 1rem;
  background: var(--card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 12px rgba(124,58,237,.08);
}
.avatar {
  width: 52px; height: 52px; border-radius: 50%; flex-shrink: 0;
  background: linear-gradient(135deg, #a78bfa, #7c3aed);
  display: flex; align-items: center; justify-content: center;
  font-size: 1.5rem; color: #fff;
}
.patient-info { flex: 1; }
.patient-info h1 { font-family: 'Sora', sans-serif; font-size: 1.2rem; font-weight: 700; color: var(--text); }
.patient-info p  { font-size: .82rem; color: var(--muted); margin-top: .2rem; }

.btn-refresh {
  padding: .45rem 1rem;
  background: var(--purple-xl); border: 1px solid var(--border);
  border-radius: 8px; color: var(--purple); cursor: pointer;
  font-size: .82rem; display: flex; align-items: center; gap: .4rem;
  transition: all .2s; white-space: nowrap; font-weight: 500;
}
.btn-refresh:hover    { background: var(--purple); color: #fff; border-color: var(--purple); }
.btn-refresh:disabled { opacity: .5; cursor: not-allowed; }

@keyframes spin { to { transform: rotate(360deg); } }
.spinning { animation: spin .8s linear infinite; }

/* ── TABS NAV ────────────────────────────────────────────────── */
.tabs-nav {
  display: flex; gap: .5rem;
  background: var(--card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: .4rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 12px rgba(124,58,237,.06);
}
.tabs-nav button {
  flex: 1; display: flex; align-items: center; justify-content: center;
  gap: .45rem; padding: .6rem 1rem;
  border: none; border-radius: 10px; background: transparent;
  color: var(--muted); cursor: pointer;
  font-family: 'DM Sans', sans-serif; font-size: .85rem;
  font-weight: 500; transition: all .2s;
}
.tabs-nav button:hover  { color: var(--purple); background: var(--purple-xl); }
.tabs-nav button.active {
  background: linear-gradient(135deg, #7c3aed, #a78bfa);
  color: #fff; font-weight: 600;
  box-shadow: 0 4px 12px rgba(124,58,237,.25);
}

.badge {
  padding: .1rem .45rem; border-radius: 10px;
  font-size: .72rem; font-weight: 700;
  background: rgba(255,255,255,.3);
}
.tabs-nav button:not(.active) .badge { background: var(--purple-xl); color: var(--purple); }

/* ── LOADING / ERROR ─────────────────────────────────────────── */
.loading-state, .error-state {
  text-align: center; padding: 4rem 1rem; color: var(--muted);
}
.loading-state .spinner {
  width: 40px; height: 40px;
  border: 3px solid var(--border); border-top-color: var(--purple);
  border-radius: 50%; animation: spin .8s linear infinite;
  margin: 0 auto 1rem;
}
.error-state i { font-size: 2rem; color: #ef4444; display: block; margin-bottom: .75rem; }
.btn-retry {
  margin-top: 1rem; padding: .45rem 1.25rem;
  background: var(--purple-xl); border: 1px solid var(--border);
  border-radius: 8px; color: var(--purple); cursor: pointer; font-weight: 500;
}
.btn-retry:hover { background: var(--purple); color: #fff; border-color: var(--purple); }

/* ── TAB CONTENT ─────────────────────────────────────────────── */
.tab-content { animation: fadeIn .2s ease; }
@keyframes fadeIn { from { opacity:0; transform:translateY(5px); } to { opacity:1; transform:none; } }

/* ── SECTION CARD ────────────────────────────────────────────── */
.section-card {
  background: var(--card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1.5rem;
  margin-bottom: 1.25rem;
  box-shadow: 0 2px 12px rgba(124,58,237,.06);
}
.card-header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 1.25rem; flex-wrap: wrap; gap: .5rem;
  padding-bottom: 1rem; border-bottom: 1px solid var(--border);
}
.card-header h3 {
  font-family: 'Sora', sans-serif; font-size: .95rem; color: var(--text);
  display: flex; align-items: center; gap: .5rem;
}
.card-header h3 i { color: var(--purple); }
.card-header small { color: var(--muted); font-size: .78rem; }
.card-header .count {
  font-size: .8rem; background: var(--purple);
  color: #fff; padding: .15rem .55rem; border-radius: 10px;
}

/* ── KPI GRID ────────────────────────────────────────────────── */
.kpi-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr));
  gap: 1rem; margin-bottom: 1.25rem;
}
.kpi-card {
  background: var(--card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1.25rem;
  display: flex; align-items: center; gap: 1rem;
  transition: all .2s; box-shadow: 0 2px 12px rgba(124,58,237,.06);
}
.kpi-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(124,58,237,.12);
  border-color: var(--purple-l);
}
.kpi-icon {
  width: 44px; height: 44px; border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.2rem; color: #fff; flex-shrink: 0;
}
.kpi-icon.blue  { background: linear-gradient(135deg, #818cf8, #6366f1); }
.kpi-icon.green { background: linear-gradient(135deg, #34d399, #10b981); }
.kpi-body { display: flex; flex-direction: column; gap: .2rem; }
.kpi-label { font-size: .72rem; color: var(--muted); text-transform: uppercase; letter-spacing: .05em; font-weight: 500; }
.kpi-value { font-family: 'Sora', sans-serif; font-size: 1.5rem; font-weight: 700; color: var(--text); }
.kpi-value.small { font-size: .95rem; }
.risk-badge {
  display: inline-block; padding: .15rem .5rem;
  border-radius: 4px; font-size: .72rem; color: #fff;
  font-weight: 600; margin-top: .25rem;
}

/* ── LATEST ANALYSIS ─────────────────────────────────────────── */
.latest-analysis { display: flex; flex-direction: column; gap: 1rem; }
.la-header { display: flex; align-items: flex-start; justify-content: space-between; flex-wrap: wrap; gap: .5rem; }
.la-prediction { font-family: 'Sora', sans-serif; font-size: 1.3rem; font-weight: 700; }
.la-meta { display: flex; flex-direction: column; gap: .3rem; font-size: .8rem; color: var(--muted); }
.la-confidence { display: flex; align-items: center; gap: .75rem; font-size: .85rem; }
.progress-bar { flex: 1; height: 8px; background: var(--bg2); border-radius: 4px; overflow: hidden; }
.progress-bar .fill { height: 100%; border-radius: 4px; transition: width .8s ease; }
.value { font-weight: 700; }
.la-description {
  font-size: .85rem; color: var(--muted);
  display: flex; align-items: flex-start; gap: .5rem; line-height: 1.6;
}
.la-description i { color: var(--purple); flex-shrink: 0; margin-top: .15rem; }
.la-probs { display: flex; flex-direction: column; gap: .5rem; }
.prob-row { display: grid; grid-template-columns: 100px 1fr 50px; align-items: center; gap: .6rem; }
.prob-label { font-size: .78rem; color: var(--muted); }
.prob-bar { height: 7px; background: var(--bg2); border-radius: 4px; overflow: hidden; }
.prob-bar div { height: 100%; border-radius: 4px; transition: width .8s ease; }
.prob-value { font-size: .78rem; font-weight: 600; text-align: right; }

/* ── DOSSIER SUMMARY ─────────────────────────────────────────── */
.dossier-summary {
  display: flex; flex-wrap: wrap; gap: 1rem;
  background: var(--purple-xl); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1.25rem;
  margin-bottom: 1.25rem;
}
.ds-item { display: flex; flex-direction: column; gap: .25rem; min-width: 120px; }
.ds-item .label { font-size: .72rem; color: var(--muted); text-transform: uppercase; letter-spacing: .05em; font-weight: 500; }
.ds-item .value { font-family: 'Sora', sans-serif; font-size: 1rem; font-weight: 600; color: var(--text); }
.ds-item .value.highlight { color: var(--purple); font-size: 1.4rem; }

/* ── TIMELINE ────────────────────────────────────────────────── */
.timeline { display: flex; flex-direction: column; gap: 1.25rem; }

.timeline-item { display: flex; gap: 1rem; position: relative; }
.timeline-item::before {
  content: ''; position: absolute;
  left: 18px; top: 40px; bottom: -1.25rem;
  width: 2px; background: var(--border); z-index: 0;
}
.timeline-item:last-child::before { display: none; }

.tl-dot {
  width: 38px; height: 38px; border-radius: 50%; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Sora', sans-serif; font-size: .8rem; font-weight: 700;
  color: #fff; z-index: 1; box-shadow: 0 0 0 4px var(--bg);
}
.tl-card {
  flex: 1; background: var(--card2); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1rem; transition: all .2s;
}
.tl-card:hover { box-shadow: 0 4px 16px rgba(124,58,237,.08); }
.timeline-item:first-child .tl-card {
  border-color: var(--purple-l);
  box-shadow: 0 0 0 2px rgba(124,58,237,.12);
}

.tl-header {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: .6rem; flex-wrap: wrap; gap: .5rem;
}
.tl-prediction {
  font-family: 'Sora', sans-serif; font-weight: 700; font-size: 1rem;
  display: flex; align-items: center; gap: .5rem;
}
.latest-tag {
  font-size: .65rem; padding: .15rem .4rem;
  background: var(--purple); color: #fff; border-radius: 4px;
}
.tl-actions { display: flex; gap: .4rem; }
.btn-icon {
  width: 30px; height: 30px; border-radius: 6px;
  border: 1px solid var(--border); background: var(--card);
  color: var(--muted); cursor: pointer; font-size: .75rem;
  display: flex; align-items: center; justify-content: center;
  transition: all .15s;
}
.btn-icon.edit:hover   { border-color: var(--purple); color: var(--purple); background: var(--purple-xl); }
.btn-icon.delete:hover { border-color: #ef4444; color: #ef4444; background: #fff0f0; }

.tl-confidence { display: flex; align-items: center; gap: .6rem; font-size: .82rem; margin-bottom: .6rem; }
.conf-label { color: var(--muted); }
.conf-value { font-weight: 700; color: var(--text); }
.tl-description { font-size: .83rem; color: var(--muted); line-height: 1.6; margin-bottom: .6rem; }

.tl-conseil {
  background: #eef2ff; border: 1px solid #c7d2fe;
  border-radius: 8px; padding: .75rem; margin-bottom: .6rem;
  font-size: .83rem; display: flex; flex-direction: column; gap: .3rem; color: var(--text);
}
.tl-conseil i { color: #6366f1; }

.tl-notes {
  background: #f0fdf4; border: 1px solid #bbf7d0;
  border-radius: 8px; padding: .75rem; margin-bottom: .6rem;
  font-size: .83rem; display: flex; flex-direction: column; gap: .3rem; color: var(--text);
}
.tl-notes i { color: #10b981; }

.tl-meta { display: flex; flex-wrap: wrap; gap: .6rem; font-size: .75rem; color: var(--muted); margin-bottom: .6rem; }
.tl-meta .trend    { font-weight: 600; color: var(--text); }
.tl-meta .modified { color: #d97706; }

.tl-probs { display: flex; flex-direction: column; gap: .3rem; }
.prob-mini { display: grid; grid-template-columns: 34px 1fr 36px; align-items: center; gap: .5rem; font-size: .72rem; color: var(--muted); }
.mini-bar { height: 5px; background: var(--bg2); border-radius: 3px; overflow: hidden; }
.mini-bar div { height: 100%; border-radius: 3px; transition: width .8s ease; }

/* ── STATS ───────────────────────────────────────────────────── */
.bar-chart { display: flex; flex-direction: column; gap: 1rem; }
.bars { display: flex; align-items: flex-end; gap: .75rem; height: 160px; padding: 0 .5rem; }
.bar-col {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; gap: .3rem; height: 100%; justify-content: flex-end;
}
.bar-value  { font-family: 'Sora', sans-serif; font-size: .85rem; font-weight: 700; color: var(--text); }
.bar-wrapper { width: 100%; flex: 1; display: flex; align-items: flex-end; }
.bar        { width: 100%; border-radius: 6px 6px 0 0; min-height: 4px; transition: height .8s ease; }
.bar-label  { font-size: .7rem; color: var(--muted); white-space: nowrap; }

.chart-legend { display: flex; gap: 1rem; flex-wrap: wrap; padding-top: .75rem; border-top: 1px solid var(--border); font-size: .75rem; color: var(--muted); }
.chart-legend span { display: flex; align-items: center; gap: .35rem; }
.dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; }

.dist-chart { display: flex; flex-direction: column; gap: .75rem; }
.dist-row   { display: grid; grid-template-columns: 110px 1fr 90px; align-items: center; gap: .75rem; font-size: .83rem; }
.dist-label { color: var(--muted); }
.dist-bar   { height: 10px; background: var(--bg2); border-radius: 5px; overflow: hidden; }
.dist-bar div { height: 100%; border-radius: 5px; transition: width .8s ease; }
.dist-value { font-size: .78rem; color: var(--muted); text-align: right; }

.summary-stats { display: flex; flex-direction: column; }
.stat-row {
  display: flex; justify-content: space-between; align-items: center;
  padding: .7rem 0; border-bottom: 1px solid var(--border); font-size: .85rem;
}
.stat-row:last-child { border-bottom: none; }
.stat-row span:first-child { color: var(--muted); }
.stat-row .value { font-weight: 600; color: var(--text); }
.no-data { text-align: center; padding: 2rem; color: var(--muted); font-size: .85rem; }

/* ── MODAL ───────────────────────────────────────────────────── */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(45,27,105,.4); backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center;
  z-index: 1000; padding: 1rem;
  animation: fadeIn .2s ease;
}
.modal-content {
  background: var(--card); border: 1px solid var(--border);
  border-radius: 20px; width: 100%; max-width: 560px;
  max-height: 90vh; overflow-y: auto;
  box-shadow: 0 24px 60px rgba(124,58,237,.2);
}
.modal-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 1.25rem 1.5rem; border-bottom: 1px solid var(--border);
  background: var(--purple-xl); border-radius: 20px 20px 0 0;
}
.modal-header h3 { font-family: 'Sora', sans-serif; font-size: 1rem; display: flex; align-items: center; gap: .5rem; color: var(--text); }
.modal-header h3 i { color: var(--purple); }
.btn-close {
  width: 32px; height: 32px; border-radius: 8px;
  border: 1px solid var(--border); background: var(--card);
  color: var(--muted); cursor: pointer; font-size: .9rem;
  display: flex; align-items: center; justify-content: center; transition: all .15s;
}
.btn-close:hover { border-color: #ef4444; color: #ef4444; background: #fff0f0; }

.modal-body { padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem; }
.modal-info {
  display: flex; gap: .75rem; font-size: .83rem;
  background: var(--purple-xl); border-radius: 8px; padding: .6rem .85rem;
  border: 1px solid var(--border);
}
.info-label { color: var(--muted); }
.info-value { font-weight: 600; color: var(--text); }

.form-group { display: flex; flex-direction: column; gap: .4rem; }
.form-group label {
  font-size: .78rem; color: var(--muted); font-weight: 500;
  display: flex; align-items: center; gap: .4rem;
}
.form-group label i { color: var(--purple); }
.form-group textarea {
  background: var(--card2); border: 1px solid var(--border);
  border-radius: 8px; padding: .65rem .85rem; color: var(--text);
  font-family: 'DM Sans', sans-serif; font-size: .85rem;
  resize: vertical; line-height: 1.6; transition: border-color .2s;
}
.form-group textarea:focus { outline: none; border-color: var(--purple); box-shadow: 0 0 0 3px rgba(124,58,237,.1); }

.modal-footer {
  display: flex; gap: .75rem; justify-content: flex-end;
  padding: 1rem 1.5rem; border-top: 1px solid var(--border);
}
.btn-cancel {
  padding: .5rem 1.25rem; background: transparent;
  border: 1px solid var(--border); border-radius: 8px;
  color: var(--muted); cursor: pointer; font-size: .85rem; transition: all .2s;
}
.btn-cancel:hover { border-color: #ef4444; color: #ef4444; }
.btn-save {
  padding: .5rem 1.25rem;
  background: linear-gradient(135deg, #7c3aed, #a78bfa);
  border: none; border-radius: 8px; color: #fff;
  cursor: pointer; font-size: .85rem; font-weight: 600;
  display: flex; align-items: center; gap: .4rem;
  font-family: 'DM Sans', sans-serif; transition: all .2s;
  box-shadow: 0 4px 12px rgba(124,58,237,.3);
}
.btn-save:hover { background: linear-gradient(135deg, #6d28d9, #7c3aed); box-shadow: 0 6px 16px rgba(124,58,237,.4); }
/*
 * ═══════════════════════════════════════════════════════
 *   PALETTE UNIFIÉE — Variables CSS globales
 *   À ajouter dans styles.css ou un fichier partagé
 * ═══════════════════════════════════════════════════════
 *
 *   Stage I   Non Demented       → Teal    #0891b2  (confiance, santé)
 *   Stage II  Very Mild Demented → Blue    #2563eb  (vigilance douce)
 *   Stage III Mild Demented      → Violet  #7c3aed  (attention clinique)
 *   Stage IV  Moderate Demented  → Red     #dc2626  (urgence médicale)
 *
 *   Fond de teinte associé (bg-10 = 10% opacity)
 * ═══════════════════════════════════════════════════════
 */

:root {
  --stage-normal:     #0891b2;
  --stage-vigilance:  #2563eb;
  --stage-concern:    #7c3aed;
  --stage-critical:   #dc2626;

  --stage-normal-bg:     rgba(8, 145, 178, 0.08);
  --stage-vigilance-bg:  rgba(37, 99, 235, 0.08);
  --stage-concern-bg:    rgba(124, 58, 237, 0.08);
  --stage-critical-bg:   rgba(220, 38, 38, 0.08);

  --color-slate:   #64748b;
  --color-primary: #2563eb;
}

/* ── Stage CSS classes ────────────────────────────── */
.stage-normal    { --stage-color: var(--stage-normal);    --stage-bg: var(--stage-normal-bg);    }
.stage-vigilance { --stage-color: var(--stage-vigilance); --stage-bg: var(--stage-vigilance-bg); }
.stage-concern   { --stage-color: var(--stage-concern);   --stage-bg: var(--stage-concern-bg);   }
.stage-critical  { --stage-color: var(--stage-critical);  --stage-bg: var(--stage-critical-bg);  }

/* ── Stage pill / badge ───────────────────────────── */
.stage-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: var(--stage-color, #64748b);
  background: var(--stage-bg, rgba(100,116,139,0.1));
  border: 1px solid var(--stage-color, #64748b);
}

/* ── Timeline item left border ────────────────────── */
.timeline-item.stage-normal    .tl-card { border-left: 3px solid var(--stage-normal); }
.timeline-item.stage-vigilance .tl-card { border-left: 3px solid var(--stage-vigilance); }
.timeline-item.stage-concern   .tl-card { border-left: 3px solid var(--stage-concern); }
.timeline-item.stage-critical  .tl-card { border-left: 3px solid var(--stage-critical); }

/* ── KPI icon variants ────────────────────────────── */
.kpi-icon.kpi-blue  { background: var(--stage-vigilance); }
.kpi-icon.kpi-teal  { background: var(--stage-normal); }
.kpi-icon.kpi-slate { background: var(--color-slate); }

/* ── KPI border accents par stage ─────────────────── */
.kpi-border-stage-normal    { border-top: 3px solid var(--stage-normal); }
.kpi-border-stage-vigilance { border-top: 3px solid var(--stage-vigilance); }
.kpi-border-stage-concern   { border-top: 3px solid var(--stage-concern); }
.kpi-border-stage-critical  { border-top: 3px solid var(--stage-critical); }

/* ══════════════════════════════════════════════════════
   MRI ANALYSIS — Styles spécifiques résultat clinique
   ══════════════════════════════════════════════════════ */

/* En-tête rapport */
.report-header-block {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  padding: 12px 16px;
  margin-bottom: 16px;
}
.report-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}
.report-label {
  font-size: 0.65rem;
  font-weight: 800;
  letter-spacing: 0.1em;
  color: #94a3b8;
  text-transform: uppercase;
}
.report-date {
  font-size: 0.75rem;
  color: #64748b;
}
.report-id {
  font-size: 0.8rem;
  color: #475569;
  font-style: italic;
}

/* Bloc diagnostic principal */
.diagnosis-section {
  display: flex;
  gap: 16px;
  align-items: flex-start;
  background: var(--stage-bg, rgba(100,116,139,0.08));
  border: 1px solid var(--stage-color, #64748b);
  border-radius: 12px;
  padding: 16px;
  margin-bottom: 16px;
}
.diag-icon-col {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  min-width: 64px;
}
.diag-icon-ring {
  width: 52px;
  height: 52px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--stage-color, #64748b);
  color: white;
  font-size: 1.2rem;
}
.stage-indicator {
  font-size: 0.65rem;
  font-weight: 700;
  color: var(--stage-color, #64748b);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
.diag-text-col { flex: 1; }
.diag-stage-label {
  font-size: 0.68rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #94a3b8;
  font-weight: 700;
}
.diag-stage-value {
  font-size: 1.35rem;
  font-weight: 800;
  color: var(--stage-color, #1e293b);
  margin: 2px 0;
}
.diag-stage-desc {
  font-size: 0.8rem;
  color: #64748b;
  margin-bottom: 10px;
}
.risk-severity-row {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}
.severity-pill {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 0.65rem;
  font-weight: 800;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  background: var(--stage-color, #64748b);
  color: white;
}
.confidence-inline {
  font-size: 0.75rem;
  color: #64748b;
  display: flex;
  align-items: center;
  gap: 4px;
}

/* Section clinique */
.clinical-section, .confidence-section, .probability-section, .recommendations-section {
  margin-bottom: 18px;
}
.section-title {
  font-size: 0.78rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  color: #475569;
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 10px;
  padding-bottom: 6px;
  border-bottom: 1px solid #f1f5f9;
}
.clinical-text {
  font-size: 0.85rem;
  color: #334155;
  line-height: 1.65;
  background: #f8fafc;
  border-left: 3px solid var(--color-primary);
  padding: 10px 14px;
  border-radius: 0 8px 8px 0;
}

/* Barre de confiance */
.conf-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}
.conf-label { font-size: 0.78rem; color: #64748b; }
.conf-value-label { font-size: 0.78rem; font-weight: 700; color: #1e293b; }
.confidence-bar-track {
  height: 8px;
  background: #e2e8f0;
  border-radius: 999px;
  overflow: hidden;
  position: relative;
  margin-bottom: 6px;
}
.confidence-bar-fill {
  height: 100%;
  border-radius: 999px;
  transition: width 0.8s ease;
}
.conf-note {
  font-size: 0.72rem;
  color: #94a3b8;
  display: flex;
  align-items: flex-start;
  gap: 5px;
}

/* Tableau de probabilités */
.prob-table { display: flex; flex-direction: column; gap: 8px; }
.prob-row-item {
  display: flex;
  align-items: center;
  gap: 8px;
}
.prob-row-left {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 190px;
}
.prob-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.prob-name { font-size: 0.78rem; color: #334155; font-weight: 500; }
.prob-stage-tag {
  font-size: 0.6rem;
  font-weight: 700;
  color: #94a3b8;
  background: #f1f5f9;
  padding: 1px 5px;
  border-radius: 4px;
}
.prob-bar-container {
  flex: 1;
  height: 6px;
  background: #f1f5f9;
  border-radius: 999px;
  overflow: hidden;
}
.prob-bar-fill {
  height: 100%;
  border-radius: 999px;
  transition: width 0.6s ease;
}
.prob-pct {
  font-size: 0.75rem;
  font-weight: 700;
  min-width: 42px;
  text-align: right;
}

/* Recommandations */
.rec-list { display: flex; flex-direction: column; gap: 8px; }
.rec-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 10px 12px;
  background: #f8fafc;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
}
.rec-icon {
  width: 34px;
  height: 34px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  flex-shrink: 0;
}
.rec-icon.routine   { background: rgba(8,145,178,0.1);  color: #0891b2; }
.rec-icon.scheduled { background: rgba(37,99,235,0.1);  color: #2563eb; }
.rec-icon.urgent    { background: rgba(124,58,237,0.1); color: #7c3aed; }
.rec-icon.critical  { background: rgba(220,38,38,0.1);  color: #dc2626; }

.rec-body { flex: 1; display: flex; flex-direction: column; gap: 2px; }
.rec-title  { font-size: 0.8rem; font-weight: 700; color: #1e293b; }
.rec-detail { font-size: 0.73rem; color: #64748b; line-height: 1.4; }

.rec-urgency-tag {
  font-size: 0.6rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  padding: 2px 7px;
  border-radius: 4px;
  flex-shrink: 0;
  align-self: flex-start;
}
.rec-urgency-tag.routine   { background: rgba(8,145,178,0.1);  color: #0891b2; }
.rec-urgency-tag.scheduled { background: rgba(37,99,235,0.1);  color: #2563eb; }
.rec-urgency-tag.urgent    { background: rgba(124,58,237,0.1); color: #7c3aed; }
.rec-urgency-tag.critical  { background: rgba(220,38,38,0.12); color: #dc2626; }

/* Disclaimer */
.disclaimer-box {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  padding: 10px 14px;
  background: #fefce8;
  border: 1px solid #fde68a;
  border-radius: 8px;
  margin-bottom: 16px;
  font-size: 0.73rem;
  color: #78350f;
  line-height: 1.5;
}
.disclaimer-box i { color: #d97706; margin-top: 1px; flex-shrink: 0; }

/* Distribution chart — ajout icône */
.dist-label-group {
  display: flex;
  align-items: center;
  gap: 6px;
  min-width: 120px;
}
/* ── RESPONSIVE ──────────────────────────────────────────────── */
@media (max-width: 640px) {
  .follow-up-container { padding: 1rem 1rem 3rem; }
  .patient-header { flex-wrap: wrap; }
  .tabs-nav button span:not(.badge) { display: none; }
  .tabs-nav button { padding: .65rem; }
  .kpi-grid { grid-template-columns: 1fr 1fr; }
  .prob-row { grid-template-columns: 70px 1fr 40px; }
  .dist-row { grid-template-columns: 70px 1fr 70px; }
}