<div class="admin-container">
    <div class="header-section">
        <h2>Session Management</h2>
        <button class="create-btn" (click)="startCreate()"><i class="fa fa-plus"></i> Create New Session</button>
    </div>

    <!-- Session List -->
    <div class="table-container" *ngIf="!isEditing">
        <table class="session-table">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Date & Time</th>
                    <th>Participants</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let session of sessions">
                    <td>
                        <span class="session-title">{{ session.title }}</span>
                        <span class="session-desc">{{ session.description }}</span>
                    </td>
                    <td>{{ session.date | date:'mediumDate' }} at {{ session.time }}</td>
                    <td>{{ session.participants }}</td>
                    <td class="actions-cell">
                        <button class="action-btn edit" (click)="editSession(session)"><i
                                class="fa fa-pencil"></i></button>
                        <button class="action-btn delete" (click)="deleteSession(session.id)"><i
                                class="fa fa-trash"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Editor Form (Overlay or Inline) -->
    <div class="editor-overlay" *ngIf="isEditing">
        <div class="editor-modal">
            <h3>{{ currentSession.id === 0 ? 'Create Session' : 'Edit Session' }}</h3>

            <form (ngSubmit)="saveSession()">
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" [(ngModel)]="currentSession.title" name="title" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Date</label>
                        <input type="date" [(ngModel)]="currentSession.date" name="date" required>
                    </div>
                    <div class="form-group">
                        <label>Time</label>
                        <input type="time" [(ngModel)]="currentSession.time" name="time" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Participants</label>
                    <input type="text" [(ngModel)]="currentSession.participants" name="participants"
                        placeholder="e.g. Group A, John Doe">
                </div>

                <div class="form-group">
                    <label>Description</label>
                    <textarea [(ngModel)]="currentSession.description" name="description" rows="3"></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="cancel-btn" (click)="cancelEdit()">Cancel</button>
                    <button type="submit" class="save-btn">Save Session</button>
                </div>
            </form>
        </div>
    </div>
</div>